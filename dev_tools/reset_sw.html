<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Service Workers - Clean Room</title>
    <style>
        body {
            font-family: sans-serif;
            background: #111;
            color: #0f0;
            padding: 20px;
        }

        h1 {
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }
    </style>
</head>

<body>
    <h1>üßπ Limpeza de Service Workers...</h1>
    <div id="log">Iniciando varredura...</div>

    <script>
        const log = document.getElementById('log');
        function print(msg) { log.innerHTML += '<br>' + msg; }

        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function (registrations) {
                if (registrations.length === 0) {
                    print("‚úÖ Nenhum Service Worker encontrado.");
                } else {
                    for (let registration of registrations) {
                        registration.unregister().then(function (boolean) {
                            if (boolean) {
                                print("‚úÖ Service Worker removido com sucesso: " + registration.scope);
                            } else {
                                print("‚ùå Falha ao remover: " + registration.scope);
                            }
                        });
                    }
                }
                print("<br><strong>Ambiente Limpo! Pode fechar esta aba.</strong>");
            });
        } else {
            print("Navegador nao suporta Service Workers (ou ja esta desabilitado).");
        }
    </script>
</body>

</html>